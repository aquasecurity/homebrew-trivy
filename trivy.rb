# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Trivy < Formula
  desc "Scanner for vulnerabilities in container images, file systems, and Git repositories, as well as for configuration issues"
  homepage "https://github.com/aquasecurity/trivy"
  version "0.68.2"

  on_macos do
    on_intel do
      url "https://get.trivy.dev/trivy?version=0.68.2&os=darwin&arch=amd64"
      sha256 "c0790530cd717b6bdd02ed437be0710f5c7043078fafaf6841be7c865bf251ce"

      def install
        bin.install "trivy"
      end
    end
    on_arm do
      url "https://get.trivy.dev/trivy?version=0.68.2&os=darwin&arch=arm64"
      sha256 "dfbe15ffe47426dad9fd3e0d52aeacf3dbbb25ca5dbc66049f5920834435988d"

      def install
        bin.install "trivy"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://get.trivy.dev/trivy?version=0.68.2&os=linux&arch=amd64"
        sha256 "3d933bbc3685f95ec15280f620583d05d97ee3affb66944d14481d5d6d567064"

        def install
          bin.install "trivy"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://get.trivy.dev/trivy?version=0.68.2&os=linux&arch=arm64"
        sha256 "33c87995fd0c3d1559086c3e18fd3148051296dfd0ca2a67583eb64f89998c91"

        def install
          bin.install "trivy"
        end
      end
    end
  end

  test do
    system "#{bin}/trivy", "--version"
  end
end
